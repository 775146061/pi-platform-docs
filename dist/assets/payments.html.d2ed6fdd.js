import{d as p}from"./app.ead14e12.js";import{_ as e}from"./plugin-vue_export-helper.21dcd24c.js";var a="./assets/payment_flow.8b34d361.png";const o={},r=p('<h1 id="\u652F\u4ED8\u63A5\u53E3" tabindex="-1"><a class="header-anchor" href="#\u652F\u4ED8\u63A5\u53E3" aria-hidden="true">#</a> \u652F\u4ED8\u63A5\u53E3</h1><p>\u652F\u4ED8\u63A5\u53E3\u662F\u5BF9\u533A\u5757\u94FE\u4EA4\u6613\u7684\u5C01\u88C5\uFF0C\u5F53\u7528\u6237\u5728app\u4E2D\u70B9\u51FB\u63D0\u4EA4\u6309\u94AE\u53BB\u652F\u4ED8\u65F6\uFF0C\u5B83\u786E\u4FDD\u4E86\u4F60\u7684app\u3001\u533A\u5757\u94FE\u548CPi Servers\u90FD\u662F\u540C\u6B65\u7684\u3002</p><p>\u8FD9\u6837\u7B80\u5316\u4E86\u5F00\u53D1\u8005\u4E0E\u533A\u5757\u94FE\u4E4B\u95F4\u4EA4\u6613\u7EC6\u8282\uFF0C\u5C4F\u853D\u6389\u4E86\u5F88\u591A\u76F4\u63A5\u4E0E\u533A\u5757\u94FE\u4EA4\u4E92\u7684\u6280\u672F\u7EC6\u8282\u3002</p><h2 id="\u652F\u4ED8\u6D41\u7A0B" tabindex="-1"><a class="header-anchor" href="#\u652F\u4ED8\u6D41\u7A0B" aria-hidden="true">#</a> \u652F\u4ED8\u6D41\u7A0B</h2><p>\u652F\u4ED8\u8BF7\u6C42\u521B\u5EFA\u540E, \u4F1A\u8D703\u4E2A\u4E3B\u8981\u7684\u9636\u6BB5:</p><ol><li>\u521B\u5EFA\u652F\u4ED8\u548C\u670D\u52A1\u7AEF\u5BA1\u6279</li><li>\u7528\u6237\u4EA4\u4E92\u548C\u533A\u5757\u94FE\u4E8B\u52A1</li><li>\u670D\u52A1\u7AEF\u5B8C\u6210</li></ol><p><img src="'+a+'" alt="Payment flow"></p><p><strong>\u9636\u6BB5 I - \u521B\u5EFA\u652F\u4ED8\u548C\u670D\u52A1\u7AEF\u5BA1\u6279</strong></p><ol><li><p><code>createPayment</code>: \u7531\u4F60\u7684app\u524D\u7AEF\u53D1\u8D77\u652F\u4ED8\u3002\u652F\u4ED8\u6D41UI\u6253\u5F00\uFF0C\u4F46\u5728\u4F60\u7684app\u670D\u52A1\u7AEF\u9A8C\u8BC1\u652F\u4ED8\u524D\u4E0D\u80FD\u4E0E\u4E4B\u4EA4\u4E92\u3002</p></li><li><p><code>onReadyForServerApproval</code>: JS SDK\u5DF2\u7ECF\u83B7\u5F97\u4E86\u652F\u4ED8id\uFF08PaymentID\uFF09</p></li><li><p>\u5C06PaymentID\u4F20\u7ED9\u4F60\u7684app\u540E\u7AEF\u3002\u8FD9\u90E8\u5206\u5B9E\u73B0\u7531\u4F60\u6765\u5B8C\u6210\u3002</p></li><li><p>\u670D\u52A1\u7AEF\u5BA1\u6279: \u4F60\u7684app\u670D\u52A1\u901A\u8FC7\u8C03\u7528Pi Servers\u7684<code>/approve</code>\u63A5\u53E3\u9A8C\u8BC1\u8FD9\u7B14\u652F\u4ED8\u3002\u8FD9\u51B3\u5B9A\u4E86\u7528\u6237\u662F\u5426\u80FD\u591F\u63D0\u4EA4\u8FD9\u7B14\u4EA4\u6613\u5230\u533A\u5757\u94FE\u4E0A\u3002</p></li></ol><p><strong>\u9636\u6BB5 II - \u7528\u6237\u4EA4\u4E92\u548C\u533A\u5757\u94FE\u4E8B\u52A1</strong></p><p>\u5728\u8FD9\u4E2A\u9636\u6BB5\uFF0C\u652F\u4ED8\u5BF9\u8BDD\u6846\u53D8\u6210\u53EF\u4EA4\u4E92\u5E76\u4E14\u5141\u8BB8\u7528\u6237\u786E\u8BA4\u4EA4\u6613\uFF0C\u786E\u8BA4\u63D0\u4EA4\u5230\u533A\u5757\u94FE\u3002</p><p>\u8FD9\u4E2A\u9636\u6BB5\u4F60\u4E0D\u9700\u8981\u505A\u4EFB\u4F55\u4E8B\uFF0C\u6240\u6709\u7684\u4E00\u5207\u90FD\u4EA4\u7ED9Pi Apps\u5E73\u53F0\u548CPi\u94B1\u5305\u6765\u505A\u3002</p><p>\u5728\u533A\u5757\u94FE\u4E8B\u52A1\u63D0\u4EA4\u540E\uFF0C\u652F\u4ED8\u6D41\u7A0B\u4E0D\u4F1A\u7ED3\u675F\u3002 \u5728\u56DE\u5230\u4F60\u7684app\u524D\uFF0C\u4F60\u9700\u8981\u901A\u8FC7\u670D\u52A1\u7AEF\u53BB\u786E\u8BA4\u8FD9\u7B14\u652F\u4ED8\u3002</p><p><strong>\u9636\u6BB5 III - \u670D\u52A1\u7AEF\u5B8C\u6210</strong></p><ol start="5"><li><p><code>onReadyForServerCompletion</code>: JS SDK\u53D1\u9001\u533A\u5757\u94FE\u4E8B\u52A1id\uFF08TxID\uFF09\u5230\u4F60\u7684app\u524D\u7AEF\u3002TxID\u5728\u670D\u52A1\u7AEF\u5B8C\u6210\u9636\u6BB5\u4F1A\u7528\u5230\u3002</p></li><li><p>app\u524D\u7AEF\u53D1\u9001TxID\u5230app\u540E\u7AEF\uFF0C\u8FD9\u90E8\u5206\u7531\u4F60\u6765\u5B9E\u73B0\u3002</p></li><li><p>\u670D\u52A1\u7AEF\u5B8C\u6210: \u4F60\u7684app\u670D\u52A1\u901A\u8FC7Pi Servers\u7684<code>/complete</code>\u63A5\u53E3\u786E\u8BA4\u8FD9\u7B14\u652F\u4ED8\u5DF2\u5B8C\u6210\u3002\u8FD9\u4F7F\u60A8\u80FD\u591F\u68C0\u67E5\u533A\u5757\u94FE\u4E8B\u52A1\u662F\u5426\u5B9E\u9645\u53D1\u751F\uFF0C\u5E76\u8BA9Pi\u77E5\u9053\u8FD9\u4E00\u70B9\u4F60\u77E5\u9053\u7684\u3002</p></li><li><p>\u652F\u4ED8\u6D41\u7A0B\u5173\u95ED\u3002\u518D\u6B21\u56DE\u5230\u4F60\u7684app\u9875\u9762\u3002 \u4F60\u7684app\u524D\u7AEF\u548C\u540E\u7AEF\u53EF\u4EE5\u4EA4\u6362\u6570\u636E\uFF0C\u5E76\u7ED9\u7528\u6237\u5C55\u793A\u4E00\u4E2A\u786E\u8BA4\u6D01\u9762\u3002\u8FD9\u4E2A\u5B9E\u73B0\u53D6\u51B3\u4E8E\u4F60\u3002 Your app&#39;s server and your app&#39;s frontend can exchange data, and update the app interface to show a confirmation screen to the user. This implementation is your responsibility.</p></li></ol><blockquote><p><strong>\u7528\u6237\u53EF\u80FD\u5BF9\u4F60\u7684app\u6492\u8C0E</strong> \u7528\u6237\u53EF\u80FD\u8FD0\u884C\u4E00\u4E2A\u88AB<code>hack</code>\u7684SDK\uFF0C\u5047\u88C5\u7528\u6237\u505A\u4E86\u4E00\u4E2A\u652F\u4ED8\u3002\u5982\u679C\u5728\u670D\u52A1\u7AEF\u5B8C\u6210\u9636\u6BB5\u7684API\u8C03\u7528\u8FD4\u56DE\u4E00\u4E2A\u975E200\u7684\u9519\u8BEF\u7801\uFF0C\u8BF7\u4E0D\u8981\u5728\u4F60\u670D\u52A1\u7AEF\u5C06\u8FD9\u7B14\u652F\u4ED8\u6807\u8BB0\u4E3A\u5B8C\u6210\uFF0C\u5E76\u4E14\u4E0D\u8981\u4EA4\u4ED8\u4EFB\u4F55\u7528\u6237\u4E70\u7684\u4E1C\u897F\u3002</p></blockquote>',16);function i(t,n){return r}var d=e(o,[["render",i]]);export{d as default};
