import{r as e,o,c,a as n,b as p,w as t,F as l,d as u,e as s}from"./app.ead14e12.js";import{_ as i}from"./plugin-vue_export-helper.21dcd24c.js";const r={},k=u(`<h1 id="\u524D\u7AEF-javascript-sdk" tabindex="-1"><a class="header-anchor" href="#\u524D\u7AEF-javascript-sdk" aria-hidden="true">#</a> \u524D\u7AEF Javascript SDK</h1><p>JS SDK\u662F\u9762\u5411\u524D\u7AEF\u5F00\u53D1\u7684SDK\uFF0C\u4F60\u53EF\u4EE5\u5728HTML\u9875\u9762\u6216\u8005\u5355\u9875\u9762\u5E94\u7528\u4E2D\u4F7F\u7528\u5B83\uFF0C\u6700\u7EC8\u90E8\u7F72\u5230Pi\u6D4F\u89C8\u5668\u4E2D\u3002</p><p>\u60F3\u8981\u4F7FSDK\u6B63\u5E38\u5DE5\u4F5C\uFF0C\u4F60\u9700\u8981\u5728\u5F00\u53D1\u8005\u7F51\u7AD9\u4E0A\u5B9A\u4E49\u4F60\u7684Pi App (\u5728Pi\u6D4F\u89C8\u5668\u4E2D\u8BBF\u95EE develop.pi).</p><p><strong>\u8FD9\u4E2ASDK\u4E0D\u662F\u7ED9\u670D\u52A1\u7AEFNodeJS\u5E94\u7528\u4F7F\u7528\u7684\u3002</strong></p><h2 id="\u5B89\u88C5" tabindex="-1"><a class="header-anchor" href="#\u5B89\u88C5" aria-hidden="true">#</a> \u5B89\u88C5</h2><p>\u5728\u4F60\u9700\u8981\u4F7F\u7528Pi Apps SDK\u7684\u9875\u9762\u6DFB\u52A0\u4E0B\u9762\u7684<code>script</code>\u6807\u7B7E\uFF1A</p><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>https://sdk.minepi.com/pi-sdk.js<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">Pi<span class="token punctuation">.</span><span class="token function">init</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">version</span><span class="token operator">:</span> <span class="token string">&quot;2.0&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">)</span></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>\u8FD9\u6837\u4F60\u5C31\u53EF\u4EE5\u901A\u8FC7\u5168\u5C40\u5BF9\u8C61<code>window.Pi</code>\u4F7F\u7528SDK\u4E86\u3002</p><h2 id="\u4F7F\u7528" tabindex="-1"><a class="header-anchor" href="#\u4F7F\u7528" aria-hidden="true">#</a> \u4F7F\u7528</h2><h3 id="\u7528\u6237\u9A8C\u8BC1" tabindex="-1"><a class="header-anchor" href="#\u7528\u6237\u9A8C\u8BC1" aria-hidden="true">#</a> \u7528\u6237\u9A8C\u8BC1</h3><p>\u53EA\u7528\u901A\u8FC7\u4E86\u7528\u6237\u9A8C\u8BC1\u4F60\u624D\u53EF\u4EE5\u505A\u548C\u7528\u6237\u76F8\u5173\u8054\u7684\u64CD\u4F5C\uFF08\u4F8B\u5982\uFF1A\u8BFB\u53D6\u7528\u6237\u4FE1\u606F\u3001\u7528\u6237\u53D1\u8D77\u4E00\u4E2A\u652F\u4ED8\u8BF7\u6C42\uFF09\uFF0C \u7528\u6237\u7B2C\u4E00\u6B21\u4F7F\u7528\u4F60\u7684Pi App\u65F6\uFF0C\u4F1A\u5728\u4ED6\u4EEC\u773C\u524D\u51FA\u73B0\u4E00\u4E2A\u6388\u6743\u5F39\u6846\uFF0C\u8BA9\u4ED6\u4EEC\u6388\u6743\u4F60\u7684app\u53EF\u4EE5\u5171\u4EAB\u4ED6\u4EEC\u7684\u6570\u636E\u3002</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// \u8BA4\u8BC1\u7528\u6237, \u5E76\u4E14\u83B7\u53D6\u5230\u652F\u4ED8\u6743\u9650:</span>
<span class="token keyword">const</span> scopes <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">&#39;payments&#39;</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

<span class="token comment">// \u8FD9\u4E2A\u56DE\u8C03\u7684\u66F4\u591A\u7EC6\u8282\u5728\u5173\u4E8E\u652F\u4ED8\u7684\u6587\u6863\uFF0C\u4E0B\u9762\u6709\u63D0\u4F9B\u94FE\u63A5:</span>
<span class="token keyword">function</span> <span class="token function">onIncompletePaymentFound</span><span class="token punctuation">(</span><span class="token parameter">payment</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">/* ... */</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>

Pi<span class="token punctuation">.</span><span class="token function">authenticate</span><span class="token punctuation">(</span>scopes<span class="token punctuation">,</span> onIncompletePaymentFound<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">auth</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">\`</span><span class="token string">Hi there! You&#39;re ready to make payments!</span><span class="token template-punctuation string">\`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">error</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span>error<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><h3 id="\u652F\u4ED8\u8BF7\u6C42" tabindex="-1"><a class="header-anchor" href="#\u652F\u4ED8\u8BF7\u6C42" aria-hidden="true">#</a> \u652F\u4ED8\u8BF7\u6C42</h3><p>\u4F7F\u7528<code>createPayment</code>\u65B9\u6CD5\u4E3A\u5F53\u524D\u7528\u6237\u53D1\u8D77\u4E00\u4E2A\u652F\u4ED8\u8BF7\u6C42\u3002 \u7528\u6237\u4F1A\u770B\u5230\u4E00\u4E2A\u6765\u81EAPi\u94B1\u5305\u7684\u5F39\u6846\u63D0\u793A\uFF0C\u8981\u6C42\u4ED6\u4EEC\u6388\u6743\u5E76\u63D0\u4EA4\u8FD9\u4E2A\u4EA4\u6613\u5230Pi\u533A\u5757\u94FE\u4E0A\u3002</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>
Pi<span class="token punctuation">.</span><span class="token function">createPayment</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token comment">// \u8981\u652F\u4ED8\u7684\u03C0\u6570\u91CF:</span>
  <span class="token literal-property property">amount</span><span class="token operator">:</span> <span class="token number">3.14</span><span class="token punctuation">,</span>
  <span class="token comment">// \u652F\u4ED8\u5907\u6CE8 - \u4F1A\u5C55\u793A\u7ED9\u7528\u6237:</span>
  <span class="token literal-property property">memo</span><span class="token operator">:</span> <span class="token string">&quot;...&quot;</span><span class="token punctuation">,</span> <span class="token comment">// \u4F8B\u5982: &quot;Digital kitten #1234&quot;,</span>
  <span class="token comment">// \u7531\u5F00\u53D1\u8005\u63D0\u4F9B\u7684\u5143\u6570\u636E - \u4F9B\u5F00\u53D1\u8005\uFF08\u4F60\uFF09\u4F7F\u7528:</span>
  <span class="token literal-property property">metadata</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token comment">/* ... */</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token comment">// \u4F8B\u5982: { kittenId: 1234 }</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
  <span class="token comment">// \u4F60\u9700\u8981\u5B9E\u73B0\u7684\u56DE\u8C03 - \u66F4\u591A\u7CFB\u5217\u5728\u4E0B\u9762\u7684\u6587\u6863\u94FE\u63A5\u4E2D:</span>
  <span class="token function-variable function">onReadyForServerApproval</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">paymentId</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">/* ... */</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function-variable function">onReadyForServerCompletion</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">paymentId<span class="token punctuation">,</span> txid</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">/* ... */</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function-variable function">onCancel</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">paymentId</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">/* ... */</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function-variable function">onError</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">error<span class="token punctuation">,</span> payment</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">/* ... */</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br></div></div><p>\u4EE5\u4E0A\u4EE3\u7801\u5757\u53EA\u662F <strong>\u7B80\u5355\u4F8B\u5B50</strong> \u4F7F\u4F60\u5BF9\u5982\u4F55\u4F7F\u7528SDK\u6709\u4E00\u4E2A\u76F4\u89C2\u7684\u611F\u53D7\u3002</p><p>\u4E3A\u4E86\u786E\u4FDD\u6D89\u53CA\u5230\u7684\u76F8\u5173\u65B9\uFF08\u4F60\u7684app\uFF0C\u4F60\u7684server\uFF0CPi servers\u548CPi\u533A\u5757\u94FE\uFF09\u662F\u540C\u6B65\u7684\uFF0C \u652F\u4ED8\u9700\u8981\u7ECF\u8FC7<strong>\u670D\u52A1\u5668\u7AEF\u5BA1\u6279</strong>\u6D41\u7A0B\u548C<strong>\u670D\u52A1\u5668\u7AEF\u5B8C\u6210</strong>\u6D41\u7A0B\u3002</p><p>\u8BF7\u53C2\u8003:</p>`,18),m=s("\u5B8C\u6574\u7684\u652F\u4ED8\u6587\u6863"),d=s(" \u53BB\u5B66\u4E60\u652F\u4ED8\u6D41\u7A0B\u3002"),b=s("\u5E73\u53F0API\u6587\u6863"),h=s(" \u53BB\u5B66\u4E60\u670D\u52A1\u7AEF\u600E\u4E48\u786E\u8BA4\u652F\u4ED8\u3002"),g=n("li",null,"Demo App (\u5F00\u53D1\u4E2D!)",-1);function f(v,y){const a=e("RouterLink");return o(),c(l,null,[k,n("ul",null,[n("li",null,[p(a,{to:"payments.html"},{default:t(()=>[m]),_:1}),d]),n("li",null,[p(a,{to:"platform_API.html"},{default:t(()=>[b]),_:1}),h]),g])],64)}var x=i(r,[["render",f]]);export{x as default};
